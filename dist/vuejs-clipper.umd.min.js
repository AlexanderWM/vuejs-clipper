(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vuejs-clipper"]=e():t["vuejs-clipper"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"010a":function(t,e,n){"use strict";var r=n("a9ea"),i=n.n(r);i.a},"01f9":function(t,e,n){"use strict";var r=n("2d00"),i=n("5ca1"),o=n("2aba"),c=n("32e9"),a=n("84f2"),u=n("41a0"),s=n("7f20"),f=n("38fd"),h=n("2b4c")("iterator"),l=!([].keys&&"next"in[].keys()),p="@@iterator",d="keys",b="values",v=function(){return this};t.exports=function(t,e,n,m,y,g,w){u(n,e,m);var j,O,x,_=function(t){if(!l&&t in P)return P[t];switch(t){case d:return function(){return new n(this,t)};case b:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",E=y==b,$=!1,P=t.prototype,T=P[h]||P[p]||y&&P[y],C=T||_(y),L=y?E?_("entries"):C:void 0,M="Array"==e&&P.entries||T;if(M&&(x=f(M.call(new t)),x!==Object.prototype&&x.next&&(s(x,S,!0),r||"function"==typeof x[h]||c(x,h,v))),E&&T&&T.name!==b&&($=!0,C=function(){return T.call(this)}),r&&!w||!l&&!$&&P[h]||c(P,h,C),a[e]=C,a[S]=v,y)if(j={values:E?C:_(b),keys:g?C:_(d),entries:L},w)for(O in j)O in P||o(P,O,j[O]);else i(i.P+i.F*(l||$),e,j);return j}},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"0bd0":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"preview"},[n("div",{staticClass:"wrap",style:t.wrapStyle},[n("canvas",{staticClass:"shim",attrs:{width:t.outerWidth,height:t.outerHeight}}),n("div",{staticClass:"img-pos",style:t.styleObj},[n("div",{staticClass:"img-rotate",style:t.rotateStyle},[n("img",{staticClass:"img",attrs:{src:t.src},on:{load:t.imgLoaded}})])])]),n("div",{staticClass:"placeholder",style:t.eptStyle},[t._t("placeholder")],2)])},i=[],o=(n("7f7f"),n("0f53")),c={mounted:function(){this.imgEl=this.$el.querySelector(".img"),this.initListener()},data:function(){return{src:"",imgEl:null,imgWidth:1,imgHeight:1,outerWidth:1,outerHeight:1,bgColor:"white",pos:{},rotate:0}},props:{name:{type:String,required:!0}},methods:{initListener:function(){var t=this.$parent,e=o["a"].parentPropName;t[e]||(t[e]={}),t[e][this.name]||(t[e][this.name]=[]);var n=t[e][this.name];n.push(this)},setData:function(t){for(var e in t)this[e]=t[e]},imgLoaded:function(){this.imgWidth=this.imgEl.naturalWidth,this.imgHeight=this.imgEl.naturalHeight},locateImage:function(t,e){this.rotate=e,this.outerWidth=t.swidth,this.outerHeight=t.sheight,this.pos=t}},computed:{styleObj:function(){var t=this.pos.sx/this.imgWidth,e=this.pos.sy/this.imgHeight,n=this.imgWidth/this.pos.swidth;return{transform:"scale(".concat(n,") translate(").concat(-100*t,"% ,").concat(-100*e,"%)")}},rotateStyle:function(){return{transform:"rotate(".concat(this.rotate,"deg)")}},wrapStyle:function(){var t=this.src?"block":"none";return{backgroundColor:this.bgColor,display:t}},eptStyle:function(){return{display:this.src?"none":"block"}}}},a=c,u=(n("1cf3"),n("2877")),s=Object(u["a"])(a,r,i,!1,null,"2a70d6c1",null);e["a"]=s.exports},"0ca4":function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},"0d58":function(t,e,n){var r=n("ce10"),i=n("e11e");t.exports=Object.keys||function(t){return r(t,i)}},"0f53":function(t,e,n){"use strict";var r={globMethodName:"$imageClipper",parentPropName:"_imgPreviewLists",parentDataName:"_imagePreviewData"};e["a"]=r},"0fc9":function(t,e,n){var r=n("3a38"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},"11e9":function(t,e,n){var r=n("52a7"),i=n("4630"),o=n("6821"),c=n("6a99"),a=n("69a8"),u=n("c69a"),s=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?s:function(t,e){if(t=o(t),e=c(e,!0),u)try{return s(t,e)}catch(n){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},"127f":function(t,e,n){"use strict";function r(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});var i=r()},1453:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("9ab4"),i=n("d817"),o=n("e9a8"),c=n("a6e8"),a=n("2ff5"),u=n("88bc"),s=n("0ca4"),f=function(t){function e(n,r,i){var c=t.call(this)||this;switch(c.syncErrorValue=null,c.syncErrorThrown=!1,c.syncErrorThrowable=!1,c.isStopped=!1,arguments.length){case 0:c.destination=o["a"];break;case 1:if(!n){c.destination=o["a"];break}if("object"===typeof n){n instanceof e?(c.syncErrorThrowable=n.syncErrorThrowable,c.destination=n,n.add(c)):(c.syncErrorThrowable=!0,c.destination=new h(c,n));break}default:c.syncErrorThrowable=!0,c.destination=new h(c,n,r,i);break}return c}return r["a"](e,t),e.prototype[a["a"]]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,n=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=n,this},e}(c["a"]),h=function(t){function e(e,n,r,c){var a,u=t.call(this)||this;u._parentSubscriber=e;var s=u;return Object(i["a"])(n)?a=n:n&&(a=n.next,r=n.error,c=n.complete,n!==o["a"]&&(s=Object.create(n),Object(i["a"])(s.unsubscribe)&&u.add(s.unsubscribe.bind(s)),s.unsubscribe=u.unsubscribe.bind(u))),u._context=s,u._next=a,u._error=r,u._complete=c,u}return r["a"](e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u["a"].useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u["a"].useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(s["a"])(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(s["a"])(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u["a"].useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u["a"].useDeprecatedSynchronousErrorHandling)throw n;Object(s["a"])(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u["a"].useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u["a"].useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(s["a"])(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(f)},1495:function(t,e,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){i(t);var n,c=o(e),a=c.length,u=0;while(a>u)r.f(t,n=c[u++],e[n]);return t}},1654:function(t,e,n){"use strict";var r=n("71c1")(!0);n("30f1")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},1691:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},1716:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("e9b9"),i=n("fad2"),o=n("4b95"),c=n("bbae"),a=n("25c4"),u=n("d9e3"),s=n("fd66"),f=n("31c4"),h=n("127f"),l=n("c539"),p=function(t){if(t instanceof r["a"])return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"===typeof t[l["a"]])return Object(a["a"])(t);if(Object(u["a"])(t))return Object(i["a"])(t);if(Object(s["a"])(t))return Object(o["a"])(t);if(t&&"function"===typeof t[h["a"]])return Object(c["a"])(t);var e=Object(f["a"])(t)?"an invalid object":"'"+t+"'",n="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)}},"1bc3":function(t,e,n){var r=n("f772");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"1cf3":function(t,e,n){"use strict";var r=n("60a4"),i=n.n(r);i.a},"1ec9":function(t,e,n){var r=n("f772"),i=n("e53d").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"208d":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.triggerInput}},[t._t("default"),n("input",{staticClass:"upload",staticStyle:{display:"none"},attrs:{type:"file",accept:t.accept},on:{input:function(e){return t.upload(e)},click:function(e){return t.clear(e)}}})],2)},i=[],o=(n("f559"),{mounted:function(){this.uploadEl=this.$el.querySelector(".upload")},props:{accept:{type:String,default:"image/*"},value:{type:String,default:""},check:{type:Boolean,default:!0}},data:function(){return{uploadEl:null,DomString:""}},methods:{upload:function(t){if(1===t.target.files.length){var e=t.target.files[0];this.check&&!e.type.startsWith("image/")||(this.DomString&&window.URL.revokeObjectURL(this.DomString),this.DomString=window.URL.createObjectURL(e),this.$emit("input",this.DomString))}},clear:function(t){t.target.value=null},triggerInput:function(){this.uploadEl&&this.uploadEl.click()}}}),c=o,a=n("2877"),u=Object(a["a"])(c,r,i,!1,null,null,null);e["a"]=u.exports},2144:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("e9b9"),i=n("a6e8"),o=n("fad2");function c(t,e){return e?new r["a"](function(n){var r=new i["a"],o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}):new r["a"](Object(o["a"])(t))}},"230e":function(t,e,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"241e":function(t,e,n){var r=n("25eb");t.exports=function(t){return Object(r(t))}},"25c4":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("c539"),i=function(t){return function(e){var n=t[r["a"]]();if("function"!==typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},"25eb":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},2877:function(t,e,n){"use strict";function r(t,e,n,r,i,o,c,a){var u,s="function"===typeof t?t.options:t;if(e&&(s.render=e,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),o&&(s._scopeId="data-v-"+o),c?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(c)},s._ssrRegister=u):i&&(u=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(s.functional){s._injectStyles=u;var f=s.render;s.render=function(t,e){return u.call(e),f(t,e)}}else{var h=s.beforeCreate;s.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:s}}n.d(e,"a",function(){return r})},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"2aba":function(t,e,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),c=n("ca5a")("src"),a=n("fa5b"),u="toString",s=(""+a).split(u);n("8378").inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,c)||i(n,c,t[e]?""+t[e]:s.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,u,function(){return"function"==typeof this&&this[c]||a.call(this)})},"2aeb":function(t,e,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),c=n("613b")("IE_PROTO"),a=function(){},u="prototype",s=function(){var t,e=n("230e")("iframe"),r=o.length,i="<",c=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+c+"document.F=Object"+i+"/script"+c),t.close(),s=t.F;while(r--)delete s[u][o[r]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[u]=r(t),n=new a,a[u]=null,n[c]=t):n=s(),void 0===e?n:i(n,e)}},"2b4c":function(t,e,n){var r=n("5537")("wks"),i=n("ca5a"),o=n("7726").Symbol,c="function"==typeof o,a=t.exports=function(t){return r[t]||(r[t]=c&&o[t]||(c?o:i)("Symbol."+t))};a.store=r},"2bd2":function(t,e,n){"use strict";var r=n("9ab4"),i=n("e9b9"),o=n("1453"),c=n("a6e8");function a(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}a.prototype=Object.create(Error.prototype);var u=a,s=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r["a"](e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(c["a"]),f=n("2ff5");n.d(e,"b",function(){return h}),n.d(e,"a",function(){return l});var h=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r["a"](e,t),e}(o["a"]),l=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r["a"](e,t),e.prototype[f["a"]]=function(){return new h(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new u;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new u;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new u;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new u;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new u;return this.hasError?(t.error(this.thrownError),c["a"].EMPTY):this.isStopped?(t.complete(),c["a"].EMPTY):(this.observers.push(t),new s(this,t))},e.prototype.asObservable=function(){var t=new i["a"];return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(i["a"]),p=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r["a"](e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var e=this.source;return e?this.source.subscribe(t):c["a"].EMPTY},e}(l)},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2ff5":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},3060:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("9ab4"),i=n("1453"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r["a"](e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(i["a"])},"30f1":function(t,e,n){"use strict";var r=n("b8e3"),i=n("63b6"),o=n("9138"),c=n("35e8"),a=n("481b"),u=n("8f60"),s=n("45f2"),f=n("53e2"),h=n("5168")("iterator"),l=!([].keys&&"next"in[].keys()),p="@@iterator",d="keys",b="values",v=function(){return this};t.exports=function(t,e,n,m,y,g,w){u(n,e,m);var j,O,x,_=function(t){if(!l&&t in P)return P[t];switch(t){case d:return function(){return new n(this,t)};case b:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",E=y==b,$=!1,P=t.prototype,T=P[h]||P[p]||y&&P[y],C=T||_(y),L=y?E?_("entries"):C:void 0,M="Array"==e&&P.entries||T;if(M&&(x=f(M.call(new t)),x!==Object.prototype&&x.next&&(s(x,S,!0),r||"function"==typeof x[h]||c(x,h,v))),E&&T&&T.name!==b&&($=!0,C=function(){return T.call(this)}),r&&!w||!l&&!$&&P[h]||c(P,h,C),a[e]=C,a[S]=v,y)if(j={values:E?C:_(b),keys:g?C:_(d),entries:L},w)for(O in j)O in P||o(P,O,j[O]);else i(i.P+i.F*(l||$),e,j);return j}},"31c4":function(t,e,n){"use strict";function r(t){return null!==t&&"object"===typeof t}n.d(e,"a",function(){return r})},"32e9":function(t,e,n){var r=n("86cc"),i=n("4630");t.exports=n("9e1e")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"32fc":function(t,e,n){var r=n("e53d").document;t.exports=r&&r.documentElement},"335c":function(t,e,n){var r=n("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"355d":function(t,e){e.f={}.propertyIsEnumerable},"35e8":function(t,e,n){var r=n("d9f6"),i=n("aebd");t.exports=n("8e60")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"36c3":function(t,e,n){var r=n("335c"),i=n("25eb");t.exports=function(t){return r(i(t))}},"38fd":function(t,e,n){var r=n("69a8"),i=n("4bf8"),o=n("613b")("IE_PROTO"),c=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},"3a38":function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"3e18":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("a6c5");function i(t,e){return Object(r["a"])(t,e,1)}},"41a0":function(t,e,n){"use strict";var r=n("2aeb"),i=n("4630"),o=n("7f20"),c={};n("32e9")(c,n("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(c,{next:i(1,n)}),o(t,e+" Iterator")}},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"45f2":function(t,e,n){var r=n("d9f6").f,i=n("07e3"),o=n("5168")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"481b":function(t,e){t.exports={}},"4b95":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("0ca4"),i=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r["a"]),e}}},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},"4d82":function(t,e,n){"use strict";var r=n("e9b9"),i=n("9e46"),o=n("667f"),c=n("2144");function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,a=null,u=t[t.length-1];return Object(i["a"])(u)?(a=t.pop(),t.length>1&&"number"===typeof t[t.length-1]&&(n=t.pop())):"number"===typeof u&&(n=t.pop()),null===a&&1===t.length&&t[0]instanceof r["a"]?t[0]:Object(o["a"])(n)(Object(c["a"])(t,a))}function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(a.apply(void 0,[e].concat(t)))}}n.d(e,"a",function(){return u})},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},5168:function(t,e,n){var r=n("dbdb")("wks"),i=n("62a0"),o=n("e53d").Symbol,c="function"==typeof o,a=t.exports=function(t){return r[t]||(r[t]=c&&o[t]||(c?o:i)("Symbol."+t))};a.store=r},5176:function(t,e,n){t.exports=n("51b6")},"51b6":function(t,e,n){n("a3c3"),t.exports=n("584a").Object.assign},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"53e2":function(t,e,n){var r=n("07e3"),i=n("241e"),o=n("5559")("IE_PROTO"),c=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},5537:function(t,e,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",c=i[o]||(i[o]={});(t.exports=function(t,e){return c[t]||(c[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(t,e,n){var r=n("dbdb")("keys"),i=n("62a0");t.exports=function(t){return r[t]||(r[t]=i(t))}},5670:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("9ab4"),i=n("1453");function o(t,e){return function(n){return n.lift(new c(t,e))}}var c=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r["a"](e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(i["a"])},"584a":function(t,e){var n=t.exports={version:"2.6.4"};"number"==typeof __e&&(__e=n)},"5b4e":function(t,e,n){var r=n("36c3"),i=n("b447"),o=n("0fc9");t.exports=function(t){return function(e,n,c){var a,u=r(e),s=i(u.length),f=o(c,s);if(t&&n!=n){while(s>f)if(a=u[f++],a!=a)return!0}else for(;s>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}}},"5ca1":function(t,e,n){var r=n("7726"),i=n("8378"),o=n("32e9"),c=n("2aba"),a=n("9b43"),u="prototype",s=function(t,e,n){var f,h,l,p,d=t&s.F,b=t&s.G,v=t&s.S,m=t&s.P,y=t&s.B,g=b?r:v?r[e]||(r[e]={}):(r[e]||{})[u],w=b?i:i[e]||(i[e]={}),j=w[u]||(w[u]={});for(f in b&&(n=e),n)h=!d&&g&&void 0!==g[f],l=(h?g:n)[f],p=y&&h?a(l,r):m&&"function"==typeof l?a(Function.call,l):l,g&&c(g,f,l,t&s.U),w[f]!=l&&o(w,f,p),m&&j[f]!=l&&(j[f]=l)};r.core=i,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},"5d58":function(t,e,n){t.exports=n("d8d6")},"5dbc":function(t,e,n){var r=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var o,c=e.constructor;return c!==n&&"function"==typeof c&&(o=c.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},"5e26":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"clipper-range"},[n("div",{directives:[{name:"stream",rawName:"v-stream:mousedown",value:t.mousedown$,expression:"mousedown$",arg:"mousedown"},{name:"stream",rawName:"v-stream:touchstart",value:t.touchstart$,expression:"touchstart$",arg:"touchstart"}],staticClass:"wrap"},[n("div",{staticClass:"stick"}),n("div",{staticClass:"bar",style:t.barStyle})])])},i=[],o=(n("c5f6"),n("ebb6")),c=n("3e18"),a=n("9f2d"),u=n("4d82"),s=n("a744"),f=n("2bd2"),h=n("6e77"),l={domStreams:["mousedown$","touchstart$"],subscriptions:function(){var t=this;return this.init$=new f["a"],this.mouseup$=Object(h["a"])(window,"mouseup"),this.mousemove$=Object(h["a"])(window,"mousemove"),this.touchmove$=Object(h["a"])(window,"touchmove",{passive:!1}),this.touchend$=Object(h["a"])(window,"touchend",{passive:!1}),this.mouseEvent$=this.mousedown$.pipe(Object(o["a"])(function(t){return t.event.preventDefault(),t.event}),Object(c["a"])(function(){return t.mousemove$.pipe(Object(a["a"])(t.mouseup$),Object(o["a"])(function(t){return t.clientX}))}),Object(u["a"])(this.mousedown$.pipe(Object(o["a"])(function(t){return t.event.clientX})))),this.touchEvent$=this.touchstart$.pipe(Object(o["a"])(function(t){return t.event.preventDefault(),t.event}),Object(c["a"])(function(){return t.touchmove$.pipe(Object(a["a"])(t.touchend$),Object(o["a"])(function(t){return t.touches[0].clientX}))}),Object(u["a"])(this.touchstart$.pipe(Object(o["a"])(function(t){return t.event.touches[0].clientX})))),this.dragSubject$=(new f["a"]).pipe(Object(u["a"])(this.mouseEvent$),Object(u["a"])(this.touchEvent$),Object(o["a"])(this.getLeftPercent),Object(s["a"])(0),Object(u["a"])(this.init$)),{x$:this.dragSubject$}},mounted:function(){var t=this;this.initVal(),this.$subscribeTo(this.dragSubject$,function(){t.$emit("input",t.val)})},props:{value:{type:Number,default:0},max:{type:Number,default:10},min:{type:Number,default:0}},computed:{barStyle:function(){return{left:"".concat(100*this.x$,"%")}},val:function(){var t=this.max-this.min,e=this.getPos(),n=e.stickPos,r=e.maxLeft;return this.x$*n.width/r*t+this.min}},methods:{getPos:function(){var t=this.$el.querySelector(".stick").getBoundingClientRect(),e=this.$el.querySelector(".bar").getBoundingClientRect();return{maxLeft:t.width-e.width,stickPos:t,barPos:e}},getLeftPercent:function(t){var e=this.$el.querySelector(".stick").getBoundingClientRect(),n=this.$el.querySelector(".bar").getBoundingClientRect(),r=e.width-n.width,i=Math.max(Math.min(t-e.left,r),0);return i/e.width},initVal:function(){var t=this.max-this.min,e=(this.value-this.min)/t,n=this.getPos();this.init$.next(e*n.maxLeft/n.stickPos.width)}},watch:{value:function(){this.initVal()}}},p=l,d=(n("010a"),n("2877")),b=Object(d["a"])(p,r,i,!1,null,"acd0539e",null);e["a"]=b.exports},"60a4":function(t,e,n){},"613b":function(t,e,n){var r=n("5537")("keys"),i=n("ca5a");t.exports=function(t){return r[t]||(r[t]=i(t))}},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"62a0":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},"63b6":function(t,e,n){var r=n("e53d"),i=n("584a"),o=n("d864"),c=n("35e8"),a=n("07e3"),u="prototype",s=function(t,e,n){var f,h,l,p=t&s.F,d=t&s.G,b=t&s.S,v=t&s.P,m=t&s.B,y=t&s.W,g=d?i:i[e]||(i[e]={}),w=g[u],j=d?r:b?r[e]:(r[e]||{})[u];for(f in d&&(n=e),n)h=!p&&j&&void 0!==j[f],h&&a(g,f)||(l=h?j[f]:n[f],g[f]=d&&"function"!=typeof j[f]?n[f]:m&&h?o(l,r):y&&j[f]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[u]=t[u],e}(l):v&&"function"==typeof l?o(Function.call,l):l,v&&((g.virtual||(g.virtual={}))[f]=l,t&s.R&&w&&!w[f]&&c(w,f,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},"667f":function(t,e,n){"use strict";var r=n("a6c5");function i(t){return t}function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r["a"])(i,t)}n.d(e,"a",function(){return o})},6821:function(t,e,n){var r=n("626a"),i=n("be13");t.exports=function(t){return r(i(t))}},6888:function(t,e,n){"use strict";(function(t){n("7f7f");var r=n("0bd0");n.d(e,"c",function(){return r["a"]});var i=n("5e26");n.d(e,"d",function(){return i["a"]});var o=n("7650");n.d(e,"a",function(){return o["a"]});var c=n("f04f");n.d(e,"b",function(){return c["a"]});var a=n("208d");n.d(e,"e",function(){return a["a"]});var u=n("ce19"),s=n("0f53"),f=function(t,e){t.use(u["a"]);var n={clipperBasic:{component:o["a"],name:"clipper-basic"},clipperPreview:{component:r["a"],name:"clipper-preview"},clipperRange:{component:i["a"],name:"clipper-range"},clipperFixed:{component:c["a"],name:"clipper-fixed"},clipperUpload:{component:a["a"],name:"clipper-upload"}},f=function(e){t.component(n[e].name,n[e].component)};for(var h in e=e||{},s["a"].parentPropName=e.parentPropName||s["a"].parentPropName,s["a"].globMethodName=e.globMethodName||s["a"].globMethodName,e.components=void 0===e.components?n:e.components,e.components){if(!n[h])throw'Invalid components "'.concat(h,'" in vurjs-clipper plugin');n[h].name="string"===typeof e.components[h]?e.components[h]:n[h].name,f(h)}},h={install:f};e["f"]=h;var l=null;"undefined"!==typeof window?l=window.Vue:"undefined"!==typeof t&&(l=t.Vue),l&&l.use(h)}).call(this,n("c8ba"))},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"6b4c":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"6c1c":function(t,e,n){n("c367");for(var r=n("e53d"),i=n("35e8"),o=n("481b"),c=n("5168")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var s=a[u],f=r[s],h=f&&f.prototype;h&&!h[c]&&i(h,c,s),o[s]=o.Array}},"6e77":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("e9b9"),i=n("8ac6"),o=n("d817"),c=n("ebb6");Object.prototype.toString;function a(t,e,n,s){return Object(o["a"])(n)&&(s=n,n=void 0),s?a(t,e,n).pipe(Object(c["a"])(function(t){return Object(i["a"])(t)?s.apply(void 0,t):s(t)})):new r["a"](function(r){function i(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}u(t,e,i,r,n)})}function u(t,e,n,r,i){var o;if(h(t)){var c=t;t.addEventListener(e,n,i),o=function(){return c.removeEventListener(e,n,i)}}else if(f(t)){var a=t;t.on(e,n),o=function(){return a.off(e,n)}}else if(s(t)){var l=t;t.addListener(e,n),o=function(){return l.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var p=0,d=t.length;p<d;p++)u(t[p],e,n,r,i)}r.add(o)}function s(t){return t&&"function"===typeof t.addListener&&"function"===typeof t.removeListener}function f(t){return t&&"function"===typeof t.on&&"function"===typeof t.off}function h(t){return t&&"function"===typeof t.addEventListener&&"function"===typeof t.removeEventListener}},"71c1":function(t,e,n){var r=n("3a38"),i=n("25eb");t.exports=function(t){return function(e,n){var o,c,a=String(i(e)),u=r(n),s=a.length;return u<0||u>=s?t?"":void 0:(o=a.charCodeAt(u),o<55296||o>56319||u+1===s||(c=a.charCodeAt(u+1))<56320||c>57343?t?a.charAt(u):o:t?a.slice(u,u+2):c-56320+(o-55296<<10)+65536)}}},"762d":function(t,e,n){"use strict";var r=n("fcb6"),i=n.n(r);i.a},7650:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"clipper-basic"},[n("canvas",{staticClass:"hidden-canvas"}),n("div",{staticClass:"clip-area",style:t.areaStyle},[n("div",{staticClass:"img-scale",style:t.scaleStyle},[n("img",{staticClass:"img",style:t.rotateStyle,attrs:{src:t.src},on:{load:function(e){t.imgLoaded(),t.emit("load",e)},error:function(e){return t.emit("error",e)}}})]),n("div",{staticClass:"zoom-area shadow",style:t.posObj},[n("div",{staticClass:"extend outer",style:t.exOuterStyle}),n("div",{staticClass:"extend inner",style:t.exInnerStyle},[n("div",{staticClass:"drag-inset"})]),t._l(4,function(e){return t.corner?n("div",{key:"corner"+e,staticClass:"corner",class:"corner"+e}):t._e()}),t.grid?n("div",{staticClass:"grid"},t._l(4,function(t){return n("div",{key:"gridItem"+t,staticClass:"grid-item"})}),0):t._e(),t._t("area")],2)]),n("div",{staticClass:"placeholder",style:t.eptStyle},[t._t("placeholder")],2)])},i=[],o=(n("c5f6"),n("bc00")),c=n("2bd2"),a=n("ebb6"),u=n("4d82"),s=n("5670"),f=n("3e18"),h=n("9f2d"),l=n("a744"),p={extends:{methods:o["a"],mixins:[o["d"],o["c"]]},subscriptions:function(){var t=this;return this.onchange$=new c["a"],this.setTL$=new c["a"],this.initWHTL$=(new c["a"]).pipe(Object(a["a"])(this.$set_initWHTL)),this.stop$=new c["a"],this.mousedownDrag$=(new c["a"]).pipe(Object(u["a"])(this.mousedown$),Object(s["a"])(this.isDragElement),Object(a["a"])(function(t){return t.preventDefault(),t}),Object(a["a"])(function(e){return t.eInZoom(e)}),Object(f["a"])(function(){return t.mousemove$.pipe(Object(h["a"])(t.mouseup$))},function(t,e){return{down:t,move:e}})),this.touchdownDrag$=this.touchstart$.pipe(Object(s["a"])(this.isDragElement),Object(s["a"])(function(t){return 1===t.touches.length}),Object(a["a"])(function(t){return t.preventDefault(),t}),Object(a["a"])(function(e){return t.eInZoom(e.touches[0])}),Object(f["a"])(function(){return t.touchmove$.pipe(Object(h["a"])(t.touchend$),Object(s["a"])(function(t){return 1===t.touches.length}),Object(a["a"])(function(t){return t.touches[0]}))},function(t,e){return{down:t,move:e}})),this.mousedownZoom$=(new c["a"]).pipe(Object(u["a"])(this.mousedown$),Object(s["a"])(this.isZoomElement),Object(a["a"])(function(t){return t.preventDefault(),t}),Object(a["a"])(this.setDownPosition),Object(f["a"])(function(){return t.mousemove$.pipe(Object(h["a"])(t.mouseup$))},function(t,e){return{down:t,move:e}})),this.touchdownZoom$=this.touchstart$.pipe(Object(s["a"])(this.isZoomElement),Object(s["a"])(function(t){return 1===t.touches.length}),Object(a["a"])(function(t){return t.preventDefault(),t.touches[0]}),Object(a["a"])(this.setDownPosition),Object(f["a"])(function(){return t.touchmove$.pipe(Object(h["a"])(t.touchend$),Object(s["a"])(function(t){return 1===t.touches.length}),Object(a["a"])(function(t){return t.touches[0]}))},function(t,e){return{down:t,move:e}})),this.touchTwoFingersZoom$=this.touchstart$.pipe(Object(s["a"])(function(t){return 2===t.touches.length}),Object(s["a"])(this.isTwoPointZoomElement),Object(a["a"])(this.prevent),Object(a["a"])(function(){t.stop$.next(0);var e=t.zoomPos();return{event:event,zoom:e}}),Object(f["a"])(function(){return t.touchmove$.pipe(Object(s["a"])(function(t){return 2===t.touches.length}),Object(a["a"])(t.prevent),Object(h["a"])(t.touchend$))},function(e,n){return t.getTwoTouchesPos(e.event,n,e.zoom)})),this.mousedownCreate$=this.mousedown$.pipe(Object(s["a"])(this.isCreateElement),Object(a["a"])(this.prevent),Object(a["a"])(this.getFakeDown),Object(f["a"])(function(){return t.mousemove$.pipe(Object(h["a"])(t.mouseup$))},function(t,e){return{down:t,move:e}})),this.touchstartCreate$=this.touchstart$.pipe(Object(s["a"])(this.isCreateElement),Object(a["a"])(this.prevent),Object(a["a"])(function(t){return t.touches[0]}),Object(a["a"])(this.getFakeDown),Object(f["a"])(function(){return t.touchmove$.pipe(Object(h["a"])(t.touchend$),Object(h["a"])(t.stop$),Object(s["a"])(function(t){return 1===t.touches.length}),Object(s["a"])(function(){return t.touchCreate}))},function(t,e){return{down:t,move:e.touches[0]}})),this.dragSubject$=(new c["a"]).pipe(Object(u["a"])(this.mousedownDrag$),Object(u["a"])(this.touchdownDrag$),Object(a["a"])(this.dragMoving),Object(a["a"])(this.repositionDrag),Object(u["a"])(this.setTL$),Object(l["a"])({left:0,top:0})),this.dragCreateSubject$=this.mousedownCreate$.pipe(Object(u["a"])(this.touchstartCreate$),Object(a["a"])(function(t){var e=t.down,n=t.move;return{down:e,move:n}})),this.zoomSubject$=(new c["a"]).pipe(Object(u["a"])(this.mousedownZoom$),Object(u["a"])(this.touchdownZoom$),Object(u["a"])(this.dragCreateSubject$),Object(a["a"])(this.reverseDownPos),Object(a["a"])(function(e){var n=e.down,r=e.move,i=t.getCreatePos(n,r);return t.zoomingPosition(i,r)}),Object(u["a"])(this.touchTwoFingersZoom$),Object(a["a"])(this.splitPos),Object(a["a"])(function(e){return t.setTL$.next(t.toPercentage(e.tl)),e.wh}),Object(a["a"])(this.$set_ratioWH),Object(a["a"])(this.toPercentage),Object(l["a"])({width:0,height:0}),Object(u["a"])(this.initWHTL$),Object(a["a"])(function(e){return t.$set_minWH(e)})),{zoomTL$:this.dragSubject$,zoomWH$:this.zoomSubject$}},props:{preview:{type:String},src:{type:String,default:""},border:{type:Number,default:1},outline:{type:Number,default:6},corner:{type:Boolean,default:!0},grid:{type:Boolean,default:!0},mode:{type:String,default:"normal"},ratio:{type:Number},touchCreate:{type:Boolean,default:!0},rotate:{type:Number,default:0},bgColor:{type:String,default:"white"},shadow:{type:String,default:"rgba(0, 0, 0, 0.4)"},scale:{type:Number,default:1}},data:function(){return{imgRatio:NaN}},mounted:function(){var t=this;this.imgEl=this.$el.querySelector(".clipper-basic .img"),this.canvasEl=this.$el.querySelector(".clipper-basic .hidden-canvas"),this.areaEl=this.$el.querySelector(".clipper-basic .clip-area"),this.zoomEl=this.$el.querySelector(".clipper-basic .zoom-area"),this.scaleEl=this.$el.querySelector(".img-scale"),this.preview&&this.$subscribeTo(this.dragSubject$.pipe(Object(u["a"])(this.onchange$)),function(){t.$nextTick(function(){var e=t.getDrawPos().pos,n=t.rotate;t.invalidDrawPos(e)||t.callPreview("locateImage",e,n)})})},methods:{imgLoaded:function(){this.callPreview("setData",{src:this.src,bgColor:this.bgColor}),this.imgRatio=this.imgEl.naturalWidth/this.imgEl.naturalHeight,this.initWHTL$.next(!0)}},computed:{posObj:function(){var t={borderWidth:this.border+"px",width:this.zoomWH$.width+"%",height:this.zoomWH$.height+"%",color:this.shadow,boxShadow:"0 0 0 "+this._shadow};for(var e in this.zoomTL$)"number"===typeof this.zoomTL$[e]&&(t[e]=this.zoomTL$[e]+"%");return t},scaleStyle:function(){return this.onchange$.next(0),{transform:"scale(".concat(this.scale,")")}},rotateStyle:function(){return this.onchange$.next(0),{transform:"rotate(".concat(this.rotate,"deg)")}},areaStyle:function(){var t=this.border+"px",e=this.src?"block":"none",n=this.watchPreData.bgColor;return{padding:t,display:e,backgroundColor:n}},eptStyle:function(){var t=this.src?"none":"block";return{display:t}},exOuterStyle:function(){var t=this.outline+this.border+"px";return{borderWidth:t,transform:"translate(-".concat(t,",-").concat(t,")")}},exInnerStyle:function(){var t=this.outline+"px";return{padding:t}},_shadow:function(){return(this.imgRatio>=1?100:100/this.imgRatio)+"vw"},watchPreData:function(){return this.callPreview("setData",{bgColor:this.bgColor}),{bgColor:this.bgColor}}}},d=p,b=(n("762d"),n("2877")),v=Object(b["a"])(d,r,i,!1,null,"74684d52",null);e["a"]=v.exports},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var r=n("4588"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")(function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7e90":function(t,e,n){var r=n("d9f6"),i=n("e4ae"),o=n("c3a1");t.exports=n("8e60")?Object.defineProperties:function(t,e){i(t);var n,c=o(e),a=c.length,u=0;while(a>u)r.f(t,n=c[u++],e[n]);return t}},"7f20":function(t,e,n){var r=n("86cc").f,i=n("69a8"),o=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},"7f7f":function(t,e,n){var r=n("86cc").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,c="name";c in i||n("9e1e")&&r(i,c,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},8378:function(t,e){var n=t.exports={version:"2.6.4"};"number"==typeof __e&&(__e=n)},8436:function(t,e){t.exports=function(){}},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),c=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return c(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"88bc":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;e.stack}r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},8968:function(t,e,n){},"8ac6":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"===typeof t.length}},"8b97":function(t,e,n){var r=n("d3f4"),i=n("cb7c"),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},"8e60":function(t,e,n){t.exports=!n("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"8f60":function(t,e,n){"use strict";var r=n("a159"),i=n("aebd"),o=n("45f2"),c={};n("35e8")(c,n("5168")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(c,{next:i(1,n)}),o(t,e+" Iterator")}},9093:function(t,e,n){var r=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},9138:function(t,e,n){t.exports=n("35e8")},9306:function(t,e,n){"use strict";var r=n("c3a1"),i=n("9aa9"),o=n("355d"),c=n("241e"),a=n("335c"),u=Object.assign;t.exports=!u||n("294c")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){var n=c(t),u=arguments.length,s=1,f=i.f,h=o.f;while(u>s){var l,p=a(arguments[s++]),d=f?r(p).concat(f(p)):r(p),b=d.length,v=0;while(b>v)h.call(p,l=d[v++])&&(n[l]=p[l])}return n}:u},"96cf":function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",s="object"===typeof t,f=e.regeneratorRuntime;if(f)s&&(t.exports=f);else{f=e.regeneratorRuntime=s?t.exports:{},f.wrap=w;var h="suspendedStart",l="suspendedYield",p="executing",d="completed",b={},v={};v[c]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(M([])));y&&y!==r&&i.call(y,c)&&(v=y);var g=_.prototype=O.prototype=Object.create(v);x.prototype=g.constructor=_,_.constructor=x,_[u]=x.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(g),t},f.awrap=function(t){return{__await:t}},S(E.prototype),E.prototype[a]=function(){return this},f.AsyncIterator=E,f.async=function(t,e,n,r){var i=new E(w(t,e,n,r));return f.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},S(g),g[u]="Generator",g[c]=function(){return this},g.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=M,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return a.type="throw",a.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],a=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var u=i.call(c,"catchLoc"),s=i.call(c,"finallyLoc");if(u&&s){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(u){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),b}}}function w(t,e,n,r){var i=e&&e.prototype instanceof O?e:O,o=Object.create(i.prototype),c=new L(r||[]);return o._invoke=$(t,n,c),o}function j(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function O(){}function x(){}function _(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function E(t){function e(n,r,o,c){var a=j(t[n],t,r);if("throw"!==a.type){var u=a.arg,s=u.value;return s&&"object"===typeof s&&i.call(s,"__await")?Promise.resolve(s.__await).then(function(t){e("next",t,o,c)},function(t){e("throw",t,o,c)}):Promise.resolve(s).then(function(t){u.value=t,o(u)},function(t){return e("throw",t,o,c)})}c(a.arg)}var n;function r(t,r){function i(){return new Promise(function(n,i){e(t,r,n,i)})}return n=n?n.then(i,i):i()}this._invoke=r}function $(t,e,n){var r=h;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return k()}n.method=i,n.arg=o;while(1){var c=n.delegate;if(c){var a=P(c,n);if(a){if(a===b)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=j(t,e,n);if("normal"===u.type){if(r=n.done?d:l,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}function P(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,P(t,e),"throw"===e.method))return b;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var i=j(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,b;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,b):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,b)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(t){if(t){var e=t[c];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){while(++r<t.length)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},"9ab4":function(t,e,n){"use strict";n.d(e,"a",function(){return i});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&n("32e9")(i,r,{}),t.exports=function(t){i[r][t]=!0}},"9def":function(t,e,n){var r=n("4588"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"9e46":function(t,e,n){"use strict";function r(t){return t&&"function"===typeof t.schedule}n.d(e,"a",function(){return r})},"9f2d":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("9ab4"),i=n("3060"),o=n("ce8b");function c(t){return function(e){return e.lift(new a(t))}}var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new u(t),r=Object(o["a"])(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),u=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return r["a"](e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(i["a"])},a159:function(t,e,n){var r=n("e4ae"),i=n("7e90"),o=n("1691"),c=n("5559")("IE_PROTO"),a=function(){},u="prototype",s=function(){var t,e=n("1ec9")("iframe"),r=o.length,i="<",c=">";e.style.display="none",n("32fc").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+c+"document.F=Object"+i+"/script"+c),t.close(),s=t.F;while(r--)delete s[u][o[r]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[u]=r(t),n=new a,a[u]=null,n[c]=t):n=s(),void 0===e?n:i(n,e)}},a3c3:function(t,e,n){var r=n("63b6");r(r.S+r.F,"Object",{assign:n("9306")})},a6c5:function(t,e,n){"use strict";var r=n("9ab4"),i=n("ce8b"),o=n("3060"),c=n("acf8"),a=n("ebb6"),u=n("e9b9"),s=n("fd66"),f=n("d9e3"),h=n("c539");function l(t){return t&&"function"===typeof t[h["a"]]}var p=n("127f");function d(t){return t&&"function"===typeof t[p["a"]]}var b=n("2144"),v=n("a6e8"),m=n("4b95");function y(t,e){return e?new u["a"](function(n){var r=new v["a"];return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}):new u["a"](Object(m["a"])(t))}var g=n("bbae");function w(t,e){if(!t)throw new Error("Iterable cannot be null");return e?new u["a"](function(n){var r,i=new v["a"];return i.add(function(){r&&"function"===typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[p["a"]](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i}):new u["a"](Object(g["a"])(t))}var j=n("25c4");function O(t,e){return e?new u["a"](function(n){var r=new v["a"];return r.add(e.schedule(function(){var i=t[h["a"]]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}):new u["a"](Object(j["a"])(t))}var x=n("1716");function _(t,e){if(!e)return t instanceof u["a"]?t:new u["a"](Object(x["a"])(t));if(null!=t){if(l(t))return O(t,e);if(Object(s["a"])(t))return y(t,e);if(Object(f["a"])(t))return Object(b["a"])(t,e);if(d(t)||"string"===typeof t)return w(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function S(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof e?function(r){return r.pipe(S(function(n,r){return _(t(n,r)).pipe(Object(a["a"])(function(t,i){return e(n,t,r,i)}))},n))}:("number"===typeof e&&(n=e),function(e){return e.lift(new E(t,n))})}n.d(e,"a",function(){return S});var E=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new $(t,this.project,this.concurrent))},t}(),$=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r["a"](e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new c["a"](this,void 0,void 0),o=this.destination;o.add(r),Object(i["a"])(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o["a"])},a6e8:function(t,e,n){"use strict";var r=n("8ac6"),i=n("31c4"),o=n("d817");function c(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);var a=c;n.d(e,"a",function(){return u});var u=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,c=n._parent,u=n._parents,f=n._unsubscribe,h=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;var l=-1,p=u?u.length:0;while(c)c.remove(this),c=++l<p&&u[l]||null;if(Object(o["a"])(f))try{f.call(this)}catch(b){e=!0,t=b instanceof a?s(b.errors):[b]}if(Object(r["a"])(h)){l=-1,p=h.length;while(++l<p){var d=h[l];if(Object(i["a"])(d))try{d.unsubscribe()}catch(b){e=!0,t=t||[],b instanceof a?t=t.concat(s(b.errors)):t.push(b)}}}if(e)throw new a(t)}},t.prototype.add=function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;n=new t,n._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this,n=e._parent,r=e._parents;return n!==t&&(n?r?-1===r.indexOf(t)&&(r.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function s(t){return t.reduce(function(t,e){return t.concat(e instanceof a?e.errors:e)},[])}},a744:function(t,e,n){"use strict";var r=n("2144"),i=n("e9b9");function o(t){var e=new i["a"](function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}var c=new i["a"](function(t){return t.complete()});function a(t){return t?u(t):c}function u(t){return new i["a"](function(e){return t.schedule(function(){return e.complete()})})}var s=n("9e46");function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(Object(s["a"])(n)?t.pop():n=void 0,t.length){case 0:return a(n);case 1:return n?Object(r["a"])(t,n):o(t[0]);default:return Object(r["a"])(t,n)}}var h=n("667f");function l(){return Object(h["a"])(1)}function p(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return l()(f.apply(void 0,t))}function d(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];Object(s["a"])(n)?t.pop():n=null;var i=t.length;return p(1!==i||n?i>0?Object(r["a"])(t,n):a(n):o(t[0]),e)}}n.d(e,"a",function(){return d})},a9ea:function(t,e,n){},aa77:function(t,e,n){var r=n("5ca1"),i=n("be13"),o=n("79e5"),c=n("fdef"),a="["+c+"]",u="​",s=RegExp("^"+a+a+"*"),f=RegExp(a+a+"*$"),h=function(t,e,n){var i={},a=o(function(){return!!c[t]()||u[t]()!=u}),s=i[t]=a?e(l):c[t];n&&(i[n]=s),r(r.P+r.F*a,"String",i)},l=h.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(f,"")),t};t.exports=h},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},ac6a:function(t,e,n){for(var r=n("cadf"),i=n("0d58"),o=n("2aba"),c=n("7726"),a=n("32e9"),u=n("84f2"),s=n("2b4c"),f=s("iterator"),h=s("toStringTag"),l=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),b=0;b<d.length;b++){var v,m=d[b],y=p[m],g=c[m],w=g&&g.prototype;if(w&&(w[f]||a(w,f,l),w[h]||a(w,h,m),u[m]=l,y))for(v in r)w[v]||o(w,v,r[v],!0)}},acf8:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("9ab4"),i=n("1453"),o=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r["a"](e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i["a"])},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},b447:function(t,e,n){var r=n("3a38"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},b8e3:function(t,e){t.exports=!0},bbae:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("127f"),i=function(t){return function(e){var n=t[r["a"]]();do{var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}while(1);return"function"===typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},bbfc:function(t,e,n){"use strict";var r=n("8968"),i=n.n(r);i.a},bc00:function(t,e,n){"use strict";n("ac6a");var r=n("5176"),i=n.n(r),o={prevent:function(t){return t.preventDefault(),t},eTo:function(t,e,n){var r=this[n+"Pos"](),i=0;switch(e){case"top":i=t.clientY-r.top;break;case"left":i=t.clientX-r.left;break;case"right":i=r.right-t.clientX;break;case"bottom":i=r.bottom-t.clientY;break}return i},toPercentage:function(t){var e={},n={left:"toX",right:"toX",top:"toY",bottom:"toY",width:"toX",height:"toY"};for(var r in t){var i=n[r];i&&void 0!==t[r]&&(e[r]=this[i](t[r]))}return e},invalidDrawPos:function(t){return 0===t.swidth||0===t.sheight}},c=o,a=(n("cadf"),n("96cf"),n("5d58")),u=n.n(a),s={eToArea:function(t,e){return this.eTo(t,e,"area")},areaPos:function(){var t=this.areaEl.getBoundingClientRect();return t},zoomPos:function(){var t=this.zoomEl.getBoundingClientRect();return t},eInZoom:function(t){var e=this.zoomEl.getBoundingClientRect();return{width:e.width,height:e.height,left:t.clientX-e.left,top:t.clientY-e.top}},zoomInArea:function(){var t=this.areaEl.getBoundingClientRect(),e=this.zoomEl.getBoundingClientRect();return i()(e,{offsetLeft:e.left-t.left,offsetTop:e.top-t.top,maxLeft:t.width-e.width,maxTop:t.height-e.height})},toX:function(t){var e=this.areaPos();return Math.min(Math.max(t/e.width*100,0),100)},toY:function(t){var e=this.areaPos();return Math.min(Math.max(t/e.height*100,0),100)},isDragElement:function(t){return t.target===this.$el.querySelector(".drag-inset")},dragMoving:function(t){var e=t.down,n=t.move,r=this.toX(this.eToArea(n,"left")-e.left),i=this.toY(this.eToArea(n,"top")-e.top);return{left:r,top:i,down:e,move:n}},repositionDrag:function(t){var e=t.left,n=t.top,r=t.down,i=t.move,o=this.zoomInArea(),c=this.toX(o.maxLeft),a=this.toY(o.maxTop);if(e=Math.min(e,c),n=Math.min(n,a),e===c||0===e){var u=this.eInZoom(i);r.left=Math.max(Math.min(u.left,u.width),0)}if(n===a||0===n){var s=this.eInZoom(i);r.top=Math.max(Math.min(s.top,s.height),0)}return{left:e,top:n}},ratioPos:function(t){var e=this.zoomPos(),n=t.width-e.width,r=t.height-e.height,i=n>r;return{x:i,y:!i}},zoomingPosition:function(t,e){var n,r,i,o,c,a,u,s,f=this.areaPos();return!0===t.r&&(n=t.offsetLeft,u=f.width-n,c=e.clientX-t.left),!0===t.l&&(i=f.right-t.right,u=f.width-i,c=t.right-e.clientX),!0===t.b&&(r=t.offsetTop,s=f.height-r,a=e.clientY-t.top),!0===t.t&&(o=f.bottom-t.bottom,s=f.height-o,a=t.bottom-e.clientY),c=Math.min(c,u),a=Math.min(a,s),{width:c,height:a,top:r,left:n,right:i,bottom:o,maxWidth:u,maxHeight:s}},$set_minWH:function(t){return{width:Math.max(t.width,1),height:Math.max(t.height,1)}},$set_ratioWH:function(t){var e=t.width,n=t.height,r=t.maxWidth,i=t.maxHeight;if(!this.ratio)return{width:e,height:n};var o=this.ratioPos({width:e,height:n});return o.x?(n=Math.min(e/this.ratio,i),e=n===i?n*this.ratio:e):(e=Math.min(n*this.ratio,r),n=e===r?e/this.ratio:n),{width:e,height:n}},$set_initWHTL:function(){var t,e,n=50,r=50;return this.ratio&&(this.ratio>this.imgRatio?r=n/this.ratio*this.imgRatio:n=r*this.ratio/this.imgRatio),t=(100-n)/2,e=(100-r)/2,this.setTL$.next({left:t,top:e}),{width:n,height:r}},splitPos:function(t){var e=t.top,n=t.left,r=t.right,i=t.bottom,o=t.width,c=t.height,a=t.maxWidth,u=t.maxHeight;return{tl:{left:n,top:e,right:r,bottom:i},wh:{width:o,height:c,maxWidth:a,maxHeight:u}}},isZoomElement:function(t){return this.zoomEl.contains(t.target)&&t.target!=this.$el.querySelector(".drag-inset")},judgeArea:function(t){var e=this.zoomPos(),n=e.left+e.width/2,r=e.top+e.height/2,i=t.clientX,o=t.clientY;return{l:i<n,r:i>n,t:o<r,b:o>r}},setDownPosition:function(t){var e=this.judgeArea(t),n=this.zoomPos(),r=e.t?n.bottom:n.top,i=e.l?n.right:n.left;return{target:null,clientX:i,clientY:r}},isTwoPointZoomElement:function(t){return this.areaEl.contains(t.touches[0].target)&&this.areaEl.contains(t.touches[1].target)},getTwoTouchesPos:function(t,e,n){var r=this.areaPos(),i=e.touches[0].clientX<e.touches[1].clientX,o=e.touches[0].clientY<e.touches[1].clientY,c=t.touches[0].clientX<t.touches[1].clientX,a=t.touches[0].clientY<t.touches[1].clientY,u={left:i?0:1,right:i?1:0,top:o?0:1,bottom:o?1:0},s={left:c?0:1,right:c?1:0,top:a?0:1,bottom:a?1:0},f=t.touches[s.left].clientX-e.touches[u.left].clientX,h=t.touches[s.top].clientY-e.touches[u.top].clientY,l=Math.max(n.left-r.left-f,0),p=Math.max(n.top-r.top-h,0),d=r.width-l,b=r.height-p,v=t.touches[s.right].clientX-n.right,m=t.touches[s.bottom].clientY-n.bottom,y=Math.min(e.touches[u.right].clientX-r.left-l-v,d),g=Math.min(e.touches[u.bottom].clientY-p-r.top-m,b);return{width:y,height:g,top:p,left:l,maxWidth:d,maxHeight:b}},isCreateElement:function(t){return t.target===this.$el.querySelector(".clip-area")||t.target===this.$el.querySelector(".img")},getFakeDown:function(t){return{target:t.target,clientX:t.clientX,clientY:t.clientY}},reverseDownPos:function(t){var e=t.down,n=t.move;if("normal"===this.mode)return{down:e,move:n};if(null!==e.target&&e.target===this.$el.querySelector(".img"))return e.target=null,{down:e,move:n};var r=this.judgeArea(e),i=this.zoomPos();return r.l&&n.clientX<e.clientX?e.clientX=i.right:r.r&&n.clientX>e.clientX&&(e.clientX=i.left),r.t&&n.clientY<e.clientY?e.clientY=i.bottom:r.b&&n.clientY>e.clientY&&(e.clientY=i.top),{down:e,move:n}},getCreatePos:function(t,e){var n=e.clientX>t.clientX?"r":"l",r=e.clientY>t.clientY?"b":"t",i={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,offsetTop:this.eToArea(t,"top"),offsetLeft:this.eToArea(t,"left")};return i[n]=!0,i[r]=!0,i},getDrawPos:function(){var t=this.zoomPos(),e=this.scaleEl.getBoundingClientRect(),n=this.imgEl.naturalWidth,r=e.width,i=t.left-e.left+this.border,o=t.top-e.top+this.border,c=t.width-2*this.border,a=t.height-2*this.border,s=n/r,f={rotateX:(e.left+e.width/2-(t.left+this.border))*s,rotateY:(e.top+e.height/2-(t.top+this.border))*s,drawX:(e.left-(t.left+this.border))*s,drawY:(e.top-(t.top+this.border))*s},h={sx:i*s,sy:o*s,swidth:c*s,sheight:a*s,dx:0,dy:0,dwidth:c*s,dheight:a*s};return h[u.a]=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:t.t0=regeneratorRuntime.keys(h);case 1:if((t.t1=t.t0()).done){t.next=7;break}return e=t.t1.value,t.next=5,h[e];case 5:t.next=1;break;case 7:case"end":return t.stop()}},t,this)}),{pos:h,translate:f}}},f=s,h={wrapPos:function(){return this.wrapEl.getBoundingClientRect()},scalePos:function(){return this.scaleEl.getBoundingClientRect()},translatePos:function(){return this.translateEl.getBoundingClientRect()},toX:function(t){var e=this.scalePos();return t/e.width*100},toY:function(t){var e=this.scalePos();return t/e.height*100},isDragElement:function(t){return this.wrapEl.contains(t.target)},dragDownPos:function(t){var e=this.translatePos(),n=this.scalePos(),r={left:e.left-n.left,top:e.top-n.top,clientX:t.clientX,clientY:t.clientY};return r},delta:function(t){var e=t.down,n=t.move,r=n.clientX-e.clientX+e.left,i=n.clientY-e.clientY+e.top;return{left:r,top:i}},towPointsTouches:function(t){return t.touches},setOrigin:function(t){return{down:[t[0],t[1]],origin:this.scalePos().width}},twoPointsDelta:function(t){var e=t.down,n=t.move,r=Math.abs(n[0].clientX-n[1].clientX)-Math.abs(e[0].clientX-e[1].clientX),i=Math.abs(n[0].clientY-n[1].clientY)-Math.abs(e[0].clientY-e[1].clientY);e[0]=n[0],e[1]=n[1];var o=this.wrapPos();return Math.abs(r)>=Math.abs(i)?r/o.width:i/o.height},getDrawPos:function(){var t=this.areaEl.getBoundingClientRect(),e=this.translatePos(),n=this.imgEl.naturalWidth,r=t.left-e.left+this.border,i=t.top-e.top+this.border,o=n/e.width,c={rotateX:(e.left+e.width/2-(t.left+this.border))*o,rotateY:(e.top+e.height/2-(t.top+this.border))*o,drawX:(e.left-(t.left+this.border))*o,drawY:(e.top-(t.top+this.border))*o},a={sx:r*o,sy:i*o,swidth:(t.width-2*this.border)*o,sheight:(t.height-2*this.border)*o,dx:0,dy:0,dwidth:(t.width-2*this.border)*o,dheight:(t.height-2*this.border)*o};return a[u.a]=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:t.t0=regeneratorRuntime.keys(a);case 1:if((t.t1=t.t0()).done){t.next=7;break}return e=t.t1.value,t.next=5,a[e];case 5:t.next=1;break;case 7:case"end":return t.stop()}},t,this)}),{pos:a,translate:c}}},l=h,p=n("6e77"),d=n("0f53");n.d(e,"a",function(){return b}),n.d(e,"b",function(){return v}),n.d(e,"d",function(){return m}),n.d(e,"e",function(){return y}),n.d(e,"c",function(){return g});var b=i()(f,c),v=i()(l,c),m={beforeCreate:function(){this.mousedown$=Object(p["a"])(window,"mousedown"),this.mousemove$=Object(p["a"])(window,"mousemove"),this.mouseup$=Object(p["a"])(window,"mouseup"),this.touchstart$=Object(p["a"])(window,"touchstart",{passive:!1}),this.touchmove$=Object(p["a"])(window,"touchmove",{passive:!1}),this.touchend$=Object(p["a"])(window,"touchend",{passive:!1})}},y={beforeCreate:function(){this.wheel$=Object(p["a"])(window,"wheel")}},g={methods:{clip:function(){var t=this.getDrawPos(),e=this.canvasEl.getContext("2d"),n=t.pos.swidth,r=t.pos.sheight;return this.canvasEl.width=n,this.canvasEl.height=r,e.fillStyle=this.bgColor,e.fillRect(0,0,n,r),e.translate(t.translate.rotateX,t.translate.rotateY),e.rotate(this.rotate*Math.PI/180),e.translate(t.translate.drawX-t.translate.rotateX,t.translate.drawY-t.translate.rotateY),e.drawImage(this.imgEl,0,0),this.canvasEl},callPreview:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=d["a"].parentPropName;if(this.preview&&this.$parent[i]){var o=this.$parent[i][this.preview];o&&o.forEach(function(e){e[t].apply(e,n)})}},emit:function(t,e){this.$emit(t,e)}}}},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var r=n("6821"),i=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,c){var a,u=r(e),s=i(u.length),f=o(c,s);if(t&&n!=n){while(s>f)if(a=u[f++],a!=a)return!0}else for(;s>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}}},c367:function(t,e,n){"use strict";var r=n("8436"),i=n("50ed"),o=n("481b"),c=n("36c3");t.exports=n("30f1")(Array,"Array",function(t,e){this._t=c(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},c3a1:function(t,e,n){var r=n("e6f3"),i=n("1691");t.exports=Object.keys||function(t){return r(t,i)}},c539:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"===typeof Symbol&&Symbol.observable||"@@observable"},c5f6:function(t,e,n){"use strict";var r=n("7726"),i=n("69a8"),o=n("2d95"),c=n("5dbc"),a=n("6a99"),u=n("79e5"),s=n("9093").f,f=n("11e9").f,h=n("86cc").f,l=n("aa77").trim,p="Number",d=r[p],b=d,v=d.prototype,m=o(n("2aeb")(v))==p,y="trim"in String.prototype,g=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():l(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var c,u=e.slice(2),s=0,f=u.length;s<f;s++)if(c=u.charCodeAt(s),c<48||c>i)return NaN;return parseInt(u,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(m?u(function(){v.valueOf.call(n)}):o(n)!=p)?c(new b(g(e)),n,d):g(e)};for(var w,j=n("9e1e")?s(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;j.length>O;O++)i(b,w=j[O])&&!i(d,w)&&h(d,w,f(b,w));d.prototype=v,v.constructor=d,n("2aba")(r,p,d)}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cadf:function(t,e,n){"use strict";var r=n("9c6c"),i=n("d53b"),o=n("84f2"),c=n("6821");t.exports=n("01f9")(Array,"Array",function(t,e){this._t=c(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},ccb9:function(t,e,n){e.f=n("5168")},ce10:function(t,e,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),c=n("613b")("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,s=[];for(n in a)n!=c&&r(a,n)&&s.push(n);while(e.length>u)r(a,n=e[u++])&&(~o(s,n)||s.push(n));return s}},ce19:function(t,e,n){"use strict";var r=n("2bd2"),i=n("a6e8"),o=n("6e77"),c=n("e9b9"),a=n("fae9"),u=new c["a"](a["a"]);var s=n("9ab4"),f=n("1453");function h(){return function(t){return t.lift(new l(t))}}var l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new p(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),p=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return s["a"](e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(f["a"]),d=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return s["a"](e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i["a"],t.add(this.source.subscribe(new m(this.getSubject(),this))),t.closed?(this._connection=null,t=i["a"].EMPTY):this._connection=t),t},e.prototype.refCount=function(){return h()(this)},e}(c["a"]),b=d.prototype,v={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:b._subscribe},_isComplete:{value:b._isComplete,writable:!0},getSubject:{value:b.getSubject},connect:{value:b.connect},refCount:{value:b.refCount}},m=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return s["a"](e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(r["b"]);f["a"];function y(t,e){return function(n){var r;if(r="function"===typeof t?t:function(){return t},"function"===typeof e)return n.lift(new w(r,e));var i=Object.create(n,v);return i.source=n,i.subjectFactory=r,i}}var g,w=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();function j(){return new r["a"]}function O(){return function(t){return h()(y(j)(t))}}var x=function(){};function _(t){g=t,x=g.util.warn||x}function S(t){return t&&"function"===typeof t.subscribe}function E(t){return t&&"function"===typeof t.next}function $(t,e,n){e in t?t[e]=n:g.util.defineReactive(t,e,n)}function P(t){return[t.arg].concat(Object.keys(t.modifiers)).join(":")}var T={created:function(){var t=this,e=t.$options.domStreams;e&&e.forEach(function(e){t[e]=new r["a"]});var n=t.$options.observableMethods;n&&(Array.isArray(n)?n.forEach(function(e){t[e+"$"]=t.$createObservableMethod(e)}):Object.keys(n).forEach(function(e){t[n[e]]=t.$createObservableMethod(e)}));var o=t.$options.subscriptions;"function"===typeof o&&(o=o.call(t)),o&&(t.$observables={},t._subscription=new i["a"],Object.keys(o).forEach(function(e){$(t,e,void 0);var n=t.$observables[e]=o[e];S(n)?t._subscription.add(o[e].subscribe(function(n){t[e]=n},function(t){throw t})):x('Invalid Observable found in subscriptions option with key "'+e+'".',t)}))},beforeDestroy:function(){this._subscription&&this._subscription.unsubscribe()}},C={bind:function(t,e,n){var r=e.value,i=e.arg,c=e.expression,a=e.modifiers;if(E(r))r={subject:r};else if(!r||!E(r.subject))return void x('Invalid Subject found in directive with key "'+c+'".'+c+" should be an instance of Subject or have the type { subject: Subject, data: any }.",n.context);var u={stop:function(t){return t.stopPropagation()},prevent:function(t){return t.preventDefault()}},s=Object.keys(u).filter(function(t){return a[t]}),f=r.subject,h=(f.next||f.onNext).bind(f);if(!a.native&&n.componentInstance)r.subscription=n.componentInstance.$eventToObservable(i).subscribe(function(t){s.forEach(function(e){return u[e](t)}),h({event:t,data:r.data})});else{var l=r.options?[t,i,r.options]:[t,i];r.subscription=o["a"].apply(void 0,l).subscribe(function(t){s.forEach(function(e){return u[e](t)}),h({event:t,data:r.data})}),(t._rxHandles||(t._rxHandles={}))[P(e)]=r}},update:function(t,e){var n=e.value,r=t._rxHandles&&t._rxHandles[P(e)];r&&n&&E(n.subject)&&(r.data=n.data)},unbind:function(t,e){var n=P(e),r=t._rxHandles&&t._rxHandles[n];r&&(r.subscription&&r.subscription.unsubscribe(),t._rxHandles[n]=null)}};function L(t,e){var n=this,r=new c["a"](function(r){var o,c=function(){o=n.$watch(t,function(t,e){r.next({oldValue:e,newValue:t})},e)};return n._data?c():n.$once("hook:created",c),new i["a"](function(){o&&o()})});return r}function M(t,e){if("undefined"===typeof window)return u;var n=this,r=document.documentElement,o=new c["a"](function(o){function c(e){if(n.$el){if(null===t&&n.$el===e.target)return o.next(e);for(var r=n.$el.querySelectorAll(t),i=e.target,c=0,a=r.length;c<a;c++)if(r[c]===i)return o.next(e)}}return r.addEventListener(e,c),new i["a"](function(){r.removeEventListener(e,c)})});return o}function k(t,e,n,r){var o=t.subscribe(e,n,r);return(this._subscription||(this._subscription=new i["a"])).add(o),o}function N(t){var e=this,n=Array.isArray(t)?t:[t],r=new c["a"](function(t){var r=n.map(function(n){var r=function(e){return t.next({name:n,msg:e})};return e.$on(n,r),{name:n,callback:r}});return function(){r.forEach(function(t){return e.$off(t.name,t.callback)})}});return r}function I(t,e){var n=this;void 0!==n[t]&&x("Potential bug: Method "+t+" already defined on vm and has been overwritten by $createObservableMethod."+String(n[t]),n);var r=function(r){return n[t]=function(){var t=Array.from(arguments);e?(t.push(this),r.next(t)):t.length<=1?r.next(t[0]):r.next(t)},function(){delete n[t]}};return new c["a"](r).pipe(O())}function D(t){_(t),t.mixin(T),t.directive("stream",C),t.prototype.$watchAsObservable=L,t.prototype.$fromDOMEvent=M,t.prototype.$subscribeTo=k,t.prototype.$eventToObservable=N,t.prototype.$createObservableMethod=I,t.config.optionMergeStrategies.subscriptions=t.config.optionMergeStrategies.data}"undefined"!==typeof Vue&&Vue.use(D);e["a"]=D},ce8b:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("acf8"),i=n("1716");function o(t,e,n,o,c){if(void 0===c&&(c=new r["a"](t,n,o)),!c.closed)return Object(i["a"])(e)(c)}},d2c8:function(t,e,n){var r=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d817:function(t,e,n){"use strict";function r(t){return"function"===typeof t}n.d(e,"a",function(){return r})},d864:function(t,e,n){var r=n("79aa");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},d8d6:function(t,e,n){n("1654"),n("6c1c"),t.exports=n("ccb9").f("iterator")},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d9e3:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"===typeof t.length&&"function"!==typeof t}},d9f6:function(t,e,n){var r=n("e4ae"),i=n("794b"),o=n("1bc3"),c=Object.defineProperty;e.f=n("8e60")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return c(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},dbdb:function(t,e,n){var r=n("584a"),i=n("e53d"),o="__core-js_shared__",c=i[o]||(i[o]={});(t.exports=function(t,e){return c[t]||(c[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("b8e3")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e4ae:function(t,e,n){var r=n("f772");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e6f3:function(t,e,n){var r=n("07e3"),i=n("36c3"),o=n("5b4e")(!1),c=n("5559")("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,s=[];for(n in a)n!=c&&r(a,n)&&s.push(n);while(e.length>u)r(a,n=e[u++])&&(~o(s,n)||s.push(n));return s}},e9a8:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("88bc"),i=n("0ca4"),o={closed:!0,next:function(t){},error:function(t){if(r["a"].useDeprecatedSynchronousErrorHandling)throw t;Object(i["a"])(t)},complete:function(){}}},e9b9:function(t,e,n){"use strict";var r=n("1453");function i(t){while(t){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r["a"]?i:null}return!0}var o=n("2ff5"),c=n("e9a8");function a(t,e,n){if(t){if(t instanceof r["a"])return t;if(t[o["a"]])return t[o["a"]]()}return t||e||n?new r["a"](t,e,n):new r["a"](c["a"])}var u=n("c539"),s=n("fae9");function f(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:s["a"]}var h=n("88bc");n.d(e,"a",function(){return l});var l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=a(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||h["a"].useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),h["a"].useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){h["a"].useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),i(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return e=p(e),new e(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[u["a"]]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:f(t)(this)},t.prototype.toPromise=function(t){var e=this;return t=p(t),new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function p(t){if(t||(t=h["a"].Promise||Promise),!t)throw new Error("no Promise impl found");return t}},ebb6:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("9ab4"),i=n("1453");function o(t,e){return function(n){if("function"!==typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new c(t,e))}}var c=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r["a"](e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i["a"])},f04f:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"clipper-fixed"},[n("div",{staticClass:"wrap",style:t.wrapStyle},[n("canvas",{staticClass:"stem-outer",attrs:{width:t.stemArea.width,height:t.stemArea.height}}),n("div",{staticClass:"img-center"},[n("canvas",{staticClass:"stem-bg"}),n("div",{staticClass:"img-scale",style:t.scaleStyle},[n("div",{staticClass:"img-translate",style:t.translateStyle},[n("img",{staticClass:"img",style:t.bgStyle,attrs:{src:t.src},on:{load:function(e){t.imgLoaded(),t.emit("load",e)},error:function(e){return t.emit("error",e)}}})])])]),n("div",{staticClass:"cover"},[n("div",{staticClass:"area",style:t.areaStyle},[n("canvas",{staticClass:"stem-area",style:t.stemStyle,attrs:{width:t.stemArea.width,height:t.stemArea.height}}),t.grid?n("div",{staticClass:"grid"},t._l(4,function(t){return n("div",{key:"gridItem"+t,staticClass:"grid-item"})}),0):t._e()])])]),n("canvas",{staticClass:"hidden-canvas"})])},i=[],o=(n("c5f6"),n("bc00")),c=n("5670"),a=n("ebb6"),u=n("3e18"),s=n("9f2d"),f=n("a744"),h=n("4d82"),l=n("9ab4"),p=n("1453");function d(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new b(t,e,n))}}var b=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new v(t,this.accumulator,this.seed,this.hasSeed))},t}(),v=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return l["a"](e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(p["a"]),m=n("2bd2"),y={extends:{methods:o["b"],mixins:[o["d"],o["e"],o["c"]]},subscriptions:function(){var t=this;return this.setWH$=new m["a"],this.setTL$=new m["a"],this.onchange$=new m["a"],this.mousedownDrag$=this.mousedown$.pipe(Object(c["a"])(this.isDragElement),Object(a["a"])(this.prevent),Object(a["a"])(this.dragDownPos),Object(u["a"])(function(){return t.mousemove$.pipe(Object(a["a"])(t.prevent),Object(s["a"])(t.mouseup$))},function(t,e){return{down:t,move:e}})),this.touchdownDrag$=this.touchstart$.pipe(Object(c["a"])(this.isDragElement),Object(a["a"])(this.prevent),Object(c["a"])(function(t){return 1===t.touches.length}),Object(a["a"])(function(t){return t.touches[0]}),Object(a["a"])(this.dragDownPos),Object(u["a"])(function(){return t.touchmove$.pipe(Object(s["a"])(t.touchend$),Object(c["a"])(function(t){return 1===t.touches.length}))},function(t,e){return{down:t,move:e.touches[0]}})),this.wheelEvent$=this.wheel$.pipe(Object(c["a"])(this.isDragElement),Object(a["a"])(this.prevent),Object(a["a"])(function(t){return t.deltaY}),Object(a["a"])(function(t){return t>=0?-1:1})),this.touchTwoFinger$=this.touchstart$.pipe(Object(c["a"])(this.isDragElement),Object(c["a"])(function(t){return 2===t.touches.length}),Object(a["a"])(this.prevent),Object(a["a"])(this.towPointsTouches),Object(a["a"])(this.setOrigin),Object(u["a"])(function(){return t.touchmove$.pipe(Object(s["a"])(t.touchend$),Object(c["a"])(function(t){return 2===t.touches.length}),Object(a["a"])(t.towPointsTouches))},function(t,e){var n=t.down,r=t.origin;return{down:n,move:e,origin:r}}),Object(a["a"])(this.twoPointsDelta)),this.wheelZoom$=(new m["a"]).pipe(Object(f["a"])(1),Object(h["a"])(this.wheelEvent$),d(function(e,n){var r=t.zoomRate*Math.max(e,.8)*n;return Math.max(e+r,t.minScale)})),this.touchZoom$=(new m["a"]).pipe(Object(f["a"])(1),Object(h["a"])(this.touchTwoFinger$),d(function(e,n){var r=Math.max(e,.8)*n;return Math.max(e+r,t.minScale)})),this.zoomSubject$=(new m["a"]).pipe(Object(h["a"])(this.setWH$),Object(h["a"])(this.wheelZoom$),Object(h["a"])(this.touchZoom$)),this.dragSubject$=(new m["a"]).pipe(Object(f["a"])({left:0,top:0}),Object(h["a"])(this.setTL$),Object(h["a"])(this.mousedownDrag$.pipe(Object(h["a"])(this.touchdownDrag$),Object(a["a"])(this.delta),Object(a["a"])(this.toPercentage)))),{bgWH$:this.zoomSubject$,bgTL$:this.dragSubject$}},data:function(){return{imgRatio:NaN}},props:{src:{type:String},rotate:{type:Number,default:0},ratio:{type:Number,default:1},zoomRate:{type:Number,default:.04},minScale:{type:Number,default:.1},bgColor:{type:String,default:"white"},border:{type:Number,default:1},grid:{type:Boolean,default:!0},shadow:{type:String,default:"rgba(0, 0, 0, 0.4)"},round:{type:Boolean,default:!1},preview:{type:String}},mounted:function(){var t=this;this.imgEl=this.$el.querySelector(".img"),this.wrapEl=this.$el.querySelector(".wrap"),this.areaEl=this.$el.querySelector(".area"),this.scaleEl=this.$el.querySelector(".img-scale"),this.translateEl=this.$el.querySelector(".img-translate"),this.stemEl=this.$el.querySelector(".stem-bg"),this.canvasEl=this.$el.querySelector(".hidden-canvas"),this.$subscribeTo(this.zoomSubject$.pipe(Object(h["a"])(this.dragSubject$),Object(h["a"])(this.onchange$)),function(){t.$nextTick(function(){var e=t.getDrawPos().pos,n=t.rotate;t.invalidDrawPos(e)||t.callPreview("locateImage",e,n)})})},methods:{imgLoaded:function(){this.resetData(),this.imgRatio=this.imgEl.naturalWidth/this.imgEl.naturalHeight,this.stemEl.width=this.imgEl.naturalWidth,this.stemEl.height=this.imgEl.naturalHeight,this.callPreview("setData",{src:this.src,bgColor:this.bgColor})},resetData:function(){this.setTL$.next({left:0,top:0}),this.setWH$.next(1)}},computed:{areaStyle:function(){var t={color:this.shadow,borderWidth:this.border+"px",boxShadow:"0 0 0 "+this._shadow,borderRadius:this.round?"50%":""};return this.ratio>=1?t.width="50%":t.height="50%",t},scaleStyle:function(){var t=this.bgWH$;return{transform:"scale(".concat(t,")")}},translateStyle:function(){var t=this.bgTL$.left,e=this.bgTL$.top;return{transform:"translate(".concat(t,"%,").concat(e,"%)")}},bgStyle:function(){return this.onchange$.next(0),{transform:"rotate(".concat(this.rotate,"deg)")}},wrapStyle:function(){return{backgroundColor:this.watchPreData.bgColor}},stemArea:function(){return{width:10,height:10/this.ratio}},stemStyle:function(){var t={};return this.ratio>=1?t.width="100%":t.height="100%",t},_shadow:function(){return(this.imgRatio>=1?100:100/this.imgRatio)+"vw"},watchPreData:function(){return this.callPreview("setData",{bgColor:this.bgColor}),{bgColor:this.bgColor}}}},g=y,w=(n("bbfc"),n("2877")),j=Object(w["a"])(g,r,i,!1,null,"0e9de70c",null);e["a"]=j.exports},f559:function(t,e,n){"use strict";var r=n("5ca1"),i=n("9def"),o=n("d2c8"),c="startsWith",a=""[c];r(r.P+r.F*n("5147")(c),"String",{startsWith:function(t){var e=o(this,t,c),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fad2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},fae9:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},fb15:function(t,e,n){"use strict";var r;(n.r(e),"undefined"!==typeof window)&&((r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=r[1]));var i=n("6888");n.d(e,"clipperBasic",function(){return i["a"]}),n.d(e,"clipperFixed",function(){return i["b"]}),n.d(e,"clipperPreview",function(){return i["c"]}),n.d(e,"clipperRange",function(){return i["d"]}),n.d(e,"clipperUpload",function(){return i["e"]});e["default"]=i["f"]},fcb6:function(t,e,n){},fd66:function(t,e,n){"use strict";function r(t){return!!t&&"function"!==typeof t.subscribe&&"function"===typeof t.then}n.d(e,"a",function(){return r})},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}})});
//# sourceMappingURL=vuejs-clipper.umd.min.js.map